ci:
  autofix_prs: true
  autoupdate_schedule: "monthly"

repos:
  - repo: https://github.com/pre-commit/mirrors-clang-format
    rev: v21.1.2
    hooks:
      - id: clang-format
        files: ^STM32/Core/(Src/(bmp581|firm_utils|icm45686|logger|mmc5983ma|spi_utils|usb_print_debug)|Inc/(bmp581|firm_utils|icm45686|logger|mmc5983ma|packets|spi_utils|usb_print_debug))\.(c|h)$
  
  - repo: local
    hooks:
      - id: clang-tidy
        name: clang-tidy
        entry: .githooks/run-clang-tidy.sh
        language: system
        files: ^STM32/Core/(Src/(bmp581|firm_utils|icm45686|logger|mmc5983ma|spi_utils|usb_print_debug)|Inc/(bmp581|firm_utils|icm45686|logger|mmc5983ma|packets|spi_utils|usb_print_debug))\.(c|h)$
        pass_filenames: true
